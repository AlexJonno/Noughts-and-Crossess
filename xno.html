<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Calculator</title>
  <link type="text/css" rel="stylesheet" href="style.css"/>
  <script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
  <script type="text/javascript" src="script.js"></script>
  <script>
  jQuery(document).ready(function($) {
    var turn = 1,
    xWin = false,
    oWin = false,

    a1 = $("#tl").html(),
    a2 = $("#tm").html(),
    a3 = $("#tr").html(),
    b1 = $("#ml").html(),
    b2 = $("#mm").html(),
    b3 = $("#mr").html(),
    c1 = $("#bl").html(),
    c2 = $("#bm").html(),
    c3 = $("#br").html();


    $(".square").click(function () {
      if (turn % 2 === 0){
        $(this).text("o");
        checkWin("o");
      }
      else {
        $(this).text("x");
        checkWin("x");
      }
      turn++;
    });
    // CREATES A FUNCTION TO DETECT A WIN OR A TIE
var checkWin = function () { // CHECKS IF X WON
      if ((a1 == a2 && a1 == a3 && (a1 == "x")) || //first row
      (b1 == b2 && b1 == b3 && (b1 == "x")) || //second row
      (c1 == c2 && c1 == c3 && (c1 == "x")) || //third row
      (a1 == b1 && a1 == c1 && (a1 == "x")) || //first column
      (a2 == b2 && a2 == c2 && (a2 == "x")) || //second column
      (a3 == b3 && a3 == c3 && (a3 == "x")) || //third column
      (a1 == b2 && a1 == c3 && (a1 == "x")) || //diagonal 1
      (a3 == b2 && a3 == c1 && (a3 == "x")) //diagonal 2
      ) {
          xWin = true;
          winAlert();

      } else { // CHECKS IF O WON
          if ((a1 == a2 && a1 == a3 && (a1 == "o")) || //first row
          (b1 == b2 && b1 == b3 && (b1 == "o")) || //second row
          (c1 == c2 && c1 == c3 && (c1 == "o")) || //third row
          (a1 == b1 && a1 == c1 && (a1 == "o")) || //first column
          (a2 == b2 && a2 == c2 && (a2 == "o")) || //second column
          (a3 == b3 && a3 == c3 && (a3 == "o")) || //third column
          (a1 == b2 && a1 == c3 && (a1 == "o")) || //diagonal 1
          (a3 == b2 && a3 == c1 && (a3 == "o")) //diagonal 2
          ) {
              oWin = true;
              winAlert();

          } else { // CHECKS FOR TIE GAME IF ALL CELLS ARE FILLED
              if (((a1 == "x") || (a1 == "o")) && ((b1 == "x") || (b1 == "o")) && ((c1 == "x") || (c1 == "o")) && ((a2 == "x") || (a2 == "o")) && ((b2 == "x") || (b2 == "o")) && ((c2 == "x") || (c2 == "o")) && ((a3 == "x") || (a3 == "o")) && ((b3 == "x") || (b3 == "o")) && ((c3 == "x") || (c3 == "o"))) {
                  alert("It's a tie!");
              }
          }
      }
  };

  var winAlert = function () {
    if (xWin === true) {
        alert("X won!");
    } else {
        if (oWin === true) {
            alert("O won!");
        }
    }
};
  });
  </script>
</head>
<body>
<h2>Noughts and Crosses game!</h2>
<div class="board">
<div class="square" id= "tl">
</div>
<div class="square" id= "tm">
</div>
<div class="square" id= "tr">
</div>
<div class="square" id= "ml">
</div>
<div class="square" id= "mm">
</div>
<div class="square" id= "mr">
</div>
<div class="square" id= "bl">
</div>
<div class="square" id= "bm">
</div>
<div class="square" id= "br">
</div>
</div>

</body>
</html>
